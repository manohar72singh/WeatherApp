{"ast":null,"code":"import _objectSpread from\"C:/Users/manoh/Desktop/Assignment/weather/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/manoh/Desktop/Assignment/weather/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./App.css';import Search from'./components/Search';import{weatherForecast}from'./Api';import Loading from'./components/Loading';import Weather from'./components/Weather';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// const dispatch = useDispatch();\n// const data = useSelector((state)=>state.cityWeather)\n// useEffect(()=>{\n//   console.log(data);\n// },[])\nvar _useState=useState({value:'',current:{},weekInfo:[],loading:false,error:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleInput=function handleInput(e){setState(_objectSpread(_objectSpread({},state),{},{value:e.target.value}));};var handleSearchCity=function handleSearchCity(e){e.preventDefault();setState(_objectSpread(_objectSpread({},state),{},{loading:true}));fetch(weatherForecast(state.value)).then(function(response){return response.json();}).then(function(result){var data=result;var months=['January','February','March','April','May','June','July','August','September','October','Nocvember','December'];var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];var currentDate=new Date();var date=\"\".concat(days[currentDate.getDay()],\" \").concat(currentDate.getDate(),\" \").concat(months[currentDate.getMonth()]);var sunset=new Date(data.list[0].sunset*1000).toLocaleTimeString().slice(0,4);var sunrise=new Date(data.list[0].sunrise*1000).toLocaleTimeString().slice(0,4);var current={city:data.city.name,country:data.city.country,date:date,population:data.city.population,desc:data.list[0].weather[0].description,main:data.list[0].weather[0].main,icon:data.list[0].weather[0].icon,temp:data.list[0].temp.day,hTemp:data.list[0].temp.max,lTemp:data.list[0].temp.min,sunrise:sunrise,sunset:sunset,clouds:data.list[0].clouds,humidity:data.list[0].humidity,wind:data.list[0].speed,pressure:data.list[0].pressure};var weekData=data.list;var weekInfo=weekData.map(function(data,index){return{key:index,main:data.weather[0].main,day:new Date(data.dt*1000).toLocaleString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'}).slice(0,3),desc:data.weather[0].description,icon:data.weather[0].icon,hTemp:data.temp.max,lTemp:data.temp.min};});setState(_objectSpread(_objectSpread({},state),{},{current:current,weekInfo:weekInfo,loading:false,error:false}));}).catch(function(error){console.log(error);setState(_objectSpread(_objectSpread({},state),{},{loading:false,error:true,current:{},weekInfo:[]}));});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search,{value:state.value,data:state,showResult:(state.weatherInfo||state.error)&&true,change:handleInput,submit:handleSearchCity}),state.loading===true?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(\"div\",{children:state.current.country!==undefined?/*#__PURE__*/_jsx(\"div\",{className:\"weather\",children:/*#__PURE__*/_jsx(Weather,{today:state.current,weekly:state.weekInfo})}):state.error?/*#__PURE__*/_jsx(\"p\",{className:\"error__loc\",children:\"Sorry! we donot have any information on specified location.\"}):/*#__PURE__*/_jsx(\"div\",{})})]});}export default App;","map":{"version":3,"names":["React","useState","Search","weatherForecast","Loading","Weather","App","value","current","weekInfo","loading","error","state","setState","handleInput","e","target","handleSearchCity","preventDefault","fetch","then","response","json","result","data","months","days","currentDate","Date","date","getDay","getDate","getMonth","sunset","list","toLocaleTimeString","slice","sunrise","city","name","country","population","desc","weather","description","main","icon","temp","day","hTemp","max","lTemp","min","clouds","humidity","wind","speed","pressure","weekData","map","index","key","dt","toLocaleString","weekday","year","month","catch","console","log","weatherInfo","undefined"],"sources":["C:/Users/manoh/Desktop/Assignment/weather/src/App.js"],"sourcesContent":["import React, { useState } from 'react'\nimport './App.css';\nimport Search from './components/Search'\nimport {weatherForecast} from './Api'\nimport Loading from './components/Loading';\nimport Weather from './components/Weather';\nfunction App() {\n  // const dispatch = useDispatch();\n  // const data = useSelector((state)=>state.cityWeather)\n  // useEffect(()=>{\n  //   console.log(data);\n  // },[])\n  const [state, setState] = useState({\n    value: '',\n    current: {\n    },\n    weekInfo: [],\n    loading: false,\n    error: false,\n  })\n  const handleInput =(e)=>{\n      setState({\n        ...state,\n        value: e.target.value,\n      })\n  };\n\n  const handleSearchCity=(e)=>{\n      e.preventDefault();\n      setState({\n        ...state,\n        loading:true,\n      })\n  \n\n   fetch(weatherForecast(state.value))\n  .then(response=>response.json())\n  .then(result=>{\n    const data = result\n    const months = [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'Nocvember',\n      'December',\n    ]\n    const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n    const currentDate = new Date();\n    const date = `${days[currentDate.getDay()]} ${currentDate.getDate()} ${\n      months[currentDate.getMonth()]\n    }`;\n    const sunset = new Date(data.list[0].sunset*1000).toLocaleTimeString().slice(0, 4)\n    const sunrise = new Date(data.list[0].sunrise*1000).toLocaleTimeString().slice(0, 4)\n\n    const current ={\n      city: data.city.name,\n      country: data.city.country,\n      date,\n      population: data.city.population,\n        desc: data.list[0].weather[0].description,\n        main: data.list[0].weather[0].main,\n        icon: data.list[0].weather[0].icon,\n        temp: data.list[0].temp.day,\n        hTemp: data.list[0].temp.max,\n        lTemp: data.list[0].temp.min,\n        sunrise,\n        sunset,\n        clouds: data.list[0].clouds,\n        humidity: data.list[0].humidity,\n        wind: data.list[0].speed,\n        pressure: data.list[0].pressure,\n      }\n\n      const weekData = data.list\n      const weekInfo = weekData.map((data, index)=>{\n        return{\n          key:index,\n          main: data.weather[0].main,\n          day: new Date(data.dt * 1000).toLocaleString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }).slice(0,3),\n          desc: data.weather[0].description,\n          icon: data.weather[0].icon,\n          hTemp: data.temp.max,\n          lTemp: data.temp.min,\n        }\n      })\n      setState({\n        ...state,\n        current,\n        weekInfo,\n        loading: false,\n        error: false,\n      }) \n  })\n  .catch(error=>{\n    console.log(error);\n    setState({\n      ...state,\n      loading: false,\n      error: true,\n      current: {},\n      weekInfo: [],\n    })\n  })\n}\n  return (\n    <>\n      <Search \n      value={state.value}\n      data={state}\n      showResult={(state.weatherInfo || state.error) && true}\n      change={handleInput}\n      submit={handleSearchCity}\n      />\n      {\n        state.loading === true ? \n        <Loading /> : \n        <div>\n          {\n            state.current.country !== undefined ?\n            <div className='weather'>\n              <Weather today={state.current} weekly={state.weekInfo}/>\n            </div> :\n            state.error ?\n            <p className='error__loc'>Sorry! we donot have any information on specified location.</p> :\n            <div>\n\n            </div>\n          }\n        </div>\n      }\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}